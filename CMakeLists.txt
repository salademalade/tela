CMAKE_MINIMUM_REQUIRED(VERSION 3.13)

PROJECT(tela)

ADD_EXECUTABLE(tela "")

TARGET_INCLUDE_DIRECTORIES(tela PRIVATE src)
ADD_SUBDIRECTORY(src)

INCLUDE(CTest)

IF(BUILD_TESTING)

  FIND_PACKAGE(Catch2 REQUIRED)
  ADD_EXECUTABLE(tltests "")
  TARGET_LINK_LIBRARIES(tltests Catch2::Catch2)

  INCLUDE(Catch)
  CATCH_DISCOVER_TESTS(tltests)

  TARGET_INCLUDE_DIRECTORIES(tltests PRIVATE src)

  ADD_SUBDIRECTORY(tests)

ENDIF()
